import{_ as m,m as c,b as g,r as h,o as n,c as r,g as b,e as l,t as $,j as p,a as t}from"./index-ffb3ec1b.js";import{B as f}from"./BaseInput-995538b1.js";const d={username:"",password:""},V={data:()=>({input:{...d}}),components:{BaseInput:f},computed:{...c(p,["g$user","isLoggedIn"])},methods:{...g(p,["a$login","a$setUser"]),resetForm(){Object.assign(this.input,d)},async submitForm(){try{await this.a$login(this.input),this.a$setUser(),this.resetForm(),this.$router.replace({name:"Authenticated",params:{id:this.g$user.id}})}catch(e){console.error(e)}}}},w=t("h1",null,"Login",-1),_=t("br",null,null,-1),y=t("br",null,null,-1),B=t("button",{type:"submit"},"Login",-1),F={key:1};function L(e,s,k,I,U,a){var u;const i=h("base-input");return n(),r("div",null,[w,e.isLoggedIn?(n(),r("h3",F,$((u=e.g$user)==null?void 0:u.id),1)):(n(),r("form",{key:0,method:"post",onSubmit:s[2]||(s[2]=b(()=>a.submitForm(),["prevent"])),onReset:s[3]||(s[3]=()=>a.resetForm())},[l(i,{class:"input",modelValue:e.input.username,"onUpdate:modelValue":s[0]||(s[0]=o=>e.input.username=o),placeholder:"input username",required:""},null,8,["modelValue"]),_,l(i,{class:"input",modelValue:e.input.password,"onUpdate:modelValue":s[1]||(s[1]=o=>e.input.password=o),placeholder:"input password",type:"password",required:""},null,8,["modelValue"]),y,B],32))])}const j=m(V,[["render",L]]);export{j as default};
